<%- include("partials/headerFooter/header.ejs") -%>
    

<h1><%=workout.name%></h1>

<br>

<%#LOOP FOR OVER ALL EXERCISE%>
<%exercises.forEach(function(exercise, index){%>

<%#CHANGE UNIT FOR SELECT EXERCISES%>
<% let unit = "reps" %>  
<% if (exercise.name === "Plank Hold" | exercise.name === "Side Plank Hold" | exercise.name === "Hip Bridge Hold") {unit = "seconds"}%>

    <!-- Hande if first time on exercise -->
    <%if (lastExercises[index].sets[0].reps === null && exercise.name != "Plank Hold" && exercise.name != "Side Plank Hold" && exercise.name != "Hip Bridge Hold"){ %>

        <div class="card">
            <div class="card-body">
                <div id="E<%=index%>">
                    <!-- Exercise Header -->
                    <%- include("partials/workout/exerciseHeader/exerciseHeader.ejs", {index: index, exercise: exercise, unit: unit}) -%>
                    <%- include("partials/workout/firstTimeExercise.ejs", {index: index, exercise: exercise, unit: unit}) -%>
                </div>
            </div>
        </div>

    <%} else { %>

        <div class="card">
            <div class="card-body">
                <div id="E<%=index%>">
                    <!-- Exercise Header -->
                    <%- include("partials/workout/exerciseHeader/exerciseHeader.ejs", {index: index, exercise: exercise, unit: unit}) -%>

                    <div class="clickable" data-toggle="modal" data-target="#fullExerciseModal<%=index%>" data-backdrop="static" data-keyboard="false">
                    <%exercise.sets.forEach(function(set, index4){%>
                        <% const weight = displayExercises[index][index4].weight %>
                        <p><button class="btn-list-number"><%=index4 + 1%></button>
                            <% if (displayExercises[index][index4].low === null) { %>
                                <%=displayExercises[index][index4].high%>
                            <% } else { %>
                                <%=displayExercises[index][index4].low%>
                            <% } %>
                            at <%=weight%> lbs
                        </p>
                    <%})%>
                    </div>
                    <%- include("partials/workout/fullExercise.ejs", {index: index, exercise: exercise, unit: unit}) -%>
                </div>
            </div>
        </div>

<%}%>

<%})%>

</div>


<%- include("partials/headerFooter/footer.ejs") -%>